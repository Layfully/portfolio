<app-section-wrapper
  id="Experience"
  class="max-w-5xl px-4 sm:px-6 lg:px-8"
  #experienceWrapper
>
  <h2 #experienceTitle class="title">{{ blok.title }}</h2>
  <div class="relative mt-20 lg:mt-28">
    <div
      #timelineBar
      class="absolute -top-[5%] h-[110%] w-1 bg-gray-200 dark:bg-purple-900/40 left-6 -translate-x-1/2 lg:left-1/2"
      aria-hidden="true"
    ></div>

    <ol class="relative space-y-12">
      @for (experience of blok?.experiences; track experience._uid) {
      <li
        #experienceItem
        class="group grid grid-cols-[auto_1fr] lg:grid-cols-[1fr_auto_1fr] gap-x-6"
      >
        <article
          class="timeline-card relative col-start-2 lg:group-odd:col-start-1 lg:group-even:col-start-3"
        >
          <div
            class="absolute top-4.5 w-0 h-0 border-t-8 border-b-8 border-transparent right-full border-r-8 dark:border-r-purple-400 lg:group-odd:right-auto lg:group-odd:left-full lg:group-odd:border-r-0 lg:group-odd:border-l-8 lg:group-odd:dark:border-r-0 lg:group-odd:dark:border-l-purple-400"
            aria-hidden="true"
          ></div>
          <h3 class="font-bold text-gray-900 dark:text-white">
            {{ experience.title }}
          </h3>
          <p class="mt-1 text-sm text-gray-600 dark:text-purple-300">
            {{ experience.location }}
          </p>
          <time
            class="mt-1 text-sm text-gray-600 dark:text-purple-300 block lg:hidden"
            >{{ experience.timeline }}</time
          >
          <p class="mt-4 text-gray-700 dark:text-gray-300">
            {{ experience.description }}
          </p>
        </article>

        <div
          class="row-start-1 -mt-0.5 hidden h-12 items-center lg:flex lg:group-odd:col-start-3 lg:group-even:col-start-1 lg:group-even:justify-end"
        >
          <time class="text-gray-600 dark:text-purple-300">{{
            experience.timeline
          }}</time>
        </div>

        <div class="timeline-marker row-start-1 col-start-1 lg:col-start-2">
          @if (experience.type === 'education') {
          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            class="h-6 w-6 text-gray-700 dark:text-purple-300"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.627 48.627 0 0 1 12 20.904a48.627 48.627 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.57 50.57 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.697 50.697 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z"
            />
          </svg>
          } @else if (experience.type === 'work') {
          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            class="h-6 w-6 text-gray-700 dark:text-purple-300"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M9 5.25A1.5 1.5 0 0 1 10.5 3.75h3A1.5 1.5 0 0 1 15 5.25V6h3.75A2.25 2.25 0 0 1 21 8.25v9A2.25 2.25 0 0 1 18.75 19.5H5.25A2.25 2.25 0 0 1 3 17.25v-9A2.25 2.25 0 0 1 5.25 6H9v-.75Z"
            />
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M3 13.5h18"
            />
          </svg>
          } @else {
          <div class="h-2 w-2 rounded-full bg-purple-400"></div>
          }
        </div>
      </li>
      }
    </ol>
  </div>
</app-section-wrapper>
